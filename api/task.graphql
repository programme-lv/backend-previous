extend type Query {
    listPublishedTasks: [Task!]!
    getPublishedTaskVersionByCode(code: String!): Task!

    listEditableTasks: [Task!]!
    getCurrentTaskVersionById(id: ID!): Task!
}

extend type Mutation {
    createTask(name: String!, code: String!): Task!

    updateTaskMetadata(id: ID!, authors: [String!], origin: String): Task!
    updateTaskDescription(id: ID!, code: String, name: String, story: String, input: String, output: String, notes: String): Task!
    updateTaskExamples(id: ID!, inputs: [String!], outputs: [String!]): Task!
    updateTaskConstraints(id: ID!, timeLimitMs: Int, memoryLimitKB: Int): Task!

    publishTask(id: ID!): Task!
    deleteTask(id: ID!): Task!
}

type Task {
    id: ID!
    code: String!
    name: String!
    
    description: Description!
    constraints: Constraints!
    metadata: Metadata!

    tests: [Test!]!

    createdAt: String!
    updatedAt: String!
}

type Description {
    id: ID!

    story: String!
    input: String!
    output: String!
    examples: [Example!]
    notes: String
}

type Constraints {
    timeLimitMs: Int!
    memoryLimitKb: Int!
}

type Metadata {
    authors: [String!]
    origin: String
}

type Example {
    id: ID!
    input: String!
    output: String!
}

type Test {
    id: ID!
    name: String!
    input: String!
    answer: String!
}